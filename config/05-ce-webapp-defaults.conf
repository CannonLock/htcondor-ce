
###############################################################################
#
# HTCondor-CE webapp configuration
#
# WARNING: DO NOT EDIT.
# This file will be overwritten on upgrade.  Instead, edit
#
#   /etc/condor-ce/config.d/99-ce-webapp.conf
#
###############################################################################

# Default to port 80
HTCONDORCE_WEBAPP_PORT = 80

# Configure the GangliaD to point at the CE's config directory and
# use our gmetric-like wrapper script.
GANGLIAD_METRICS_CONFIG_DIR=/etc/condor-ce/metrics.d
GANGLIA_GMETRIC=/usr/share/condor-ce/condor_ce_metric
GANGLIA_SEND_DATA_FOR_ALL_HOSTS=true

# Define the CEMon daemon binary and logging.
CEMON=/usr/share/condor-ce/condor_ce_webapp
CEMON_LOG=$(LOG)/CEMonLog

# Use the CE spool directory for saving monitoring data.
VALID_SPOOL_FILES=$(VALID_SPOOL_FILES) cemon
HTCONDORCE_WEBAPP_SPOOL=$(SPOOL)/cemon

# Setup cron job for job metric data
SCHEDD_CRON_JOBLIST = $(SCHEDD_CRON_JOBLIST) CEMon
SCHEDD_CRON_CEMON_MODE = Periodic
SCHEDD_CRON_CEMON_PERIOD = 3m
SCHEDD_CRON_CEMON_EXECUTABLE = /usr/share/condor-ce/condor_ce_jobmetrics
SCHEDD_CRON_CEMON_KILL = True
SCHEDD_CRON_CEMON_PREFIX = CEMon
SCHEDD_CRON_CEMON_RECONFIG_RERUN = True


# If enabled, add CEMon to the daemon list.
if defined ENABLE_CEMON
  if $(ENABLE_CEMON)
    DAEMON_LIST = $(DAEMON_LIST), CEMON, GANGLIAD
  endif
endif

# If available, run CEMon as a DC daemon.
if version >= 8.3.5
  DC_DAEMON_LIST = +CEMON
endif



###############################################################################
#
# HTCondor-CE Central Collector configuration
#
# DO NOT EDIT THIS FILE!  It will be overwritten upon RPM upgrade.
# If you wish to make changes to the HTCondor-CE configuration, create files
# in /etc/condor-ce/config.d containing your changes.
#
###############################################################################

DAEMON_LIST = MASTER COLLECTOR

# If a CE drops offline, we don't want to remove its ad from the collector.
ABSENT_REQUIREMENTS = (MyType=?="Scheduler")

# Even missing CEs expire after 7 days
ABSENT_EXPIRE_ADS_AFTER = 7*86400

# When the CE is turned off (for downtimes for example), keep the ad
EXPIRE_INVALIDATED_ADS = true

COLLECTOR_PERSISTENT_AD_LOG = $(SPOOL)/collector_ads.log
VALID_SPOOL_FILES=collector_ads.log $(VALID_SPOOL_FILES)

# Allow site CEs to advertise to the central collector via SSL (SOFTWARE-3939)
COLLECTOR.SEC_ADVERTISE_SCHEDD_AUTHENTICATION_METHODS = SSL, GSI
COLLECTOR.SEC_ADVERTISE_MASTER_AUTHENTICATION_METHODS = SSL, GSI

# Allow CEs and XCache hosts not in the grid-mapfile to advertise to the central collector
COLLECTOR.ALLOW_ADVERTISE_SCHEDD = $(COLLECTOR.ALLOW_ADVERTISE_SCHEDD), $(UNMAPPED_USERS), $(USERS)
COLLECTOR.ALLOW_ADVERTISE_STARTD = $(COLLECTOR.ALLOW_ADVERTISE_STARTD), $(UNMAPPED_USERS), $(USERS)
COLLECTOR.ALLOW_ADVERTISE_MASTER = $(COLLECTOR.ALLOW_ADVERTISE_MASTER), $(USERS)
